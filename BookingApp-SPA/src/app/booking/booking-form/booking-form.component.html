<form class="container mt-3" [formGroup]="bookingForm" (ngSubmit)="registerBooking()">

  <div class="row justify-content-center">
    <div class="col-4">

      <h2 class="text-center text-primary">Make a Booking</h2>
      <hr>
          <div class="form-group">
            <input type="text" bsDatepicker [bsConfig]="bsConfig"
            [ngClass]="{'is-invalid': bookingForm.get('when').errors && bookingForm.get('when').touched}" 
            class="form-control" formControlName="when" placeholder="When">
            <div class="invalid-feedback" 
              *ngIf="bookingForm.get('when').hasError('required') && bookingForm.get('when').touched">
              Please choose a date
            </div>
          </div>
    
          <div class="form-group">
            <input type="text" [ngClass]="{'is-invalid': bookingForm.get('location').errors && bookingForm.get('location').touched}"
            class="form-control" formControlName="location" placeholder="Where">
            <div class="invalid-feedback">Location is required</div>
          </div>
          
          <div class="form-group">
            <div title="From">From</div>
            <timepicker [ngClass]="{'is-invalid': bookingForm.get('fromTime').errors && bookingForm.get('fromTime').touched}"
            formControlName="fromTime"></timepicker>
            <div class="alert alert-danger text-center" 
             *ngIf="bookingForm.get('fromTime').value == null">
              Start time is required
            </div>
          </div>
        
          <div class="form-group">
            <div title="To">To</div>
            <timepicker [ngClass]="{'is-invalid': bookingForm.get('toTime').errors && bookingForm.get('toTime').touched}"
              formControlName="toTime"></timepicker>
              <div class="alert alert-danger text-center" 
              *ngIf="bookingForm.get('toTime').value == null">
                End time is required
              </div>
          </div>
        
          <div class="form-group text-center">
            <button class="btn btn-success" type="submit" [disabled]="!bookingForm.valid">Submit Request</button>
            <button class="btn btn-info" type="button" (click)="cancel()">Cancel</button>
          </div>
    </div>
  </div>
</form>